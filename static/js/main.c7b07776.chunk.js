(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(32)},23:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),o=n.n(c),i=n(10),s=n(11),l=n(16),u=n(12),h=n(17),d=(n(23),{MOVE:"MOVE",SET_DIRECTION:"DIRECTION",RESTART:"RESTART"}),f="UP",v="DOWN",E="LEFT",m="RIGHT",y=25,g=25,p=n(4),O=n(3),b=n(15),S=n(2),w=function(e){return{type:d.MOVE,direction:e}},k=[{x:10,y:10},{x:11,y:10},{x:12,y:10},{x:13,y:10}],x={snake:k,direction:m,food:{x:3,y:4},isGameOver:!1,highScore:k.length};function T(e,t){return Math.floor(Math.random()*(t-e))+e}var N=function(e,t){switch(t.type){case d.SET_DIRECTION:switch(t.direction){case v:return e!==f?t.direction:e;case f:return e!==v?t.direction:e;case E:return e!==m?t.direction:e;case m:return e!==E?t.direction:e;default:return e}default:return e}},I=function(e,t){switch(t.type){case d.MOVE:var n=0,r=0;switch(t.direction){case v:r++;break;case m:n++;break;case E:n--;break;case f:r--}var a={x:e[e.length-1].x+n<0?y-1:(e[e.length-1].x+n)%y,y:e[e.length-1].y+r<0?g-1:(e[e.length-1].y+r)%g};return e.concat(a).slice(1,e.length+1);default:return e}},R=Object(O.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=function(){switch(t.type){case d.MOVE:var n=I(e.snake,t),r=n[n.length-1],a=e.isGameOver||void 0!==n.slice(0,n.length-1).find(function(e){return e.x===r.x&&e.y===r.y});a&&(n[n.length-1].isBroken=!0);var c=Object(S.a)({},e.food);if(r.x===e.food.x&&r.y===e.food.y)for(n=[e.snake[0]].concat(Object(b.a)(n));n.find(function(e){return e.x===c.x&&e.y===c.y});)c={x:T(0,y),y:T(0,g)};return{v:Object(S.a)({},e,{snake:n,food:c,isGameOver:a,highScore:Math.max(e.highScore,n.length)})};case d.SET_DIRECTION:return{v:Object(S.a)({},e,{direction:N(e.direction,t)})};case d.RESTART:return{v:Object(S.a)({},x,{highScore:e.highScore})};default:return{v:e}}}();if("object"===typeof n)return n.v},localStorage.reduxState?JSON.parse(localStorage.reduxState):x,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),_=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",function(e){var t=m;switch(e.code){case"ArrowDown":t=v;break;case"ArrowLeft":t=E;break;case"ArrowRight":t=m;break;case"ArrowUp":t=f}R.dispatch({type:d.SET_DIRECTION,direction:t})}),this.interval=setInterval(function(){R.dispatch(w(R.getState().direction))},150),R.subscribe(function(){R.getState().isGameOver&&clearInterval(e.interval)})}},{key:"restart",value:function(){R.dispatch({type:d.RESTART}),this.interval=setInterval(function(){R.dispatch(w(R.getState().direction))},150)}},{key:"render",value:function(){for(var e=this.props.state,t=e.snake,n=new Array(y),r=0;r<y;r++)n[r]=new Array(g).fill("e");for(var c=0;c<this.props.state.snake.length;c++){var o=t[c];n[o.y][o.x]="c",o.isBroken&&(n[o.y][o.x]="b")}var i=this.props.state.food;return n[i.y][i.x]="f",a.a.createElement("div",{className:"map"},a.a.createElement("span",{className:"scorePanel"},a.a.createElement("p",{className:"score"},"score: ",t.length),e.isGameOver?a.a.createElement("button",{onClick:this.restart.bind(this)},"Play again"):null,a.a.createElement("div",{className:"gameOver"}),a.a.createElement("p",{className:"highScore"},"high score: ",e.highScore)),n.map(function(e,t){return a.a.createElement("p",{className:"mapLine",key:t},e.map(function(e,t){return a.a.createElement("b",{className:e,key:t})}))}))}}]),t}(r.Component),j=Object(p.b)(function(e){return{state:e}})(_);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(30);R.subscribe(function(){localStorage.reduxState=JSON.stringify(R.getState())}),o.a.render(a.a.createElement(p.a,{store:R},a.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.c7b07776.chunk.js.map