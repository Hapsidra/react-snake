(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(32)},23:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=a(10),s=a(11),l=a(16),u=a(12),h=a(17),d=(a(23),{MOVE:"MOVE",SET_DIRECTION:"DIRECTION",RESTART:"RESTART"}),f="UP",v="DOWN",y="LEFT",O="RIGHT",m=25,E=25,g=a(4),p=a(3),b=a(15),k=a(2),w=[{x:10,y:10},{x:11,y:10},{x:12,y:10},{x:13,y:10}],S={snake:w,direction:O,food:{x:3,y:4},isGameOver:!1,highScore:w.length};function x(e,t){return Math.floor(Math.random()*(t-e))+e}var T=function(e,t){switch(t.type){case d.SET_DIRECTION:switch(t.direction){case v:return e!==f?t.direction:e;case f:return e!==v?t.direction:e;case y:return e!==O?t.direction:e;case O:return e!==y?t.direction:e;default:return e}default:return e}},N=function(e,t){switch(t.type){case d.MOVE:var a=0,n=0;switch(t.direction){case v:n++;break;case O:a++;break;case y:a--;break;case f:n--}var r={x:e[e.length-1].x+a<0?m-1:(e[e.length-1].x+a)%m,y:e[e.length-1].y+n<0?E-1:(e[e.length-1].y+n)%E};return e.concat(r).slice(1,e.length+1);default:return e}},R=Object(p.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,a=function(){switch(t.type){case d.MOVE:if(e.isGameOver)return{v:e};var a=N(e.snake,t),n=a[a.length-1],r=e.isGameOver||void 0!==a.slice(0,a.length-1).find(function(e){return e.x===n.x&&e.y===n.y});r&&(a[a.length-1].isBroken=!0);var c=Object(k.a)({},e.food);if(n.x===e.food.x&&n.y===e.food.y)for(a=[e.snake[0]].concat(Object(b.a)(a));a.find(function(e){return e.x===c.x&&e.y===c.y});)c={x:x(0,m),y:x(0,E)};return{v:Object(k.a)({},e,{snake:a,food:c,isGameOver:r,highScore:Math.max(e.highScore,a.length)})};case d.SET_DIRECTION:if(e.isGameOver)return{v:e};var o=T(e.direction,t),i=Object(k.a)({},e.snake[e.snake.length-1]);switch(o){case v:i.y++;break;case f:i.y--;break;case y:i.x--;break;case O:i.x++}var s=Object(k.a)({},e.snake[e.snake.length-2]);return i.x===s.x&&i.y===s.y?{v:Object(k.a)({},e)}:{v:Object(k.a)({},e,{direction:o})};case d.RESTART:return{v:Object(k.a)({},S,{highScore:e.highScore})};default:return{v:e}}}();if("object"===typeof a)return a.v},localStorage.reduxState?JSON.parse(localStorage.reduxState):S,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),j=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",function(e){var t=O;switch(e.code){case"ArrowDown":t=v;break;case"ArrowLeft":t=y;break;case"ArrowRight":t=O;break;case"ArrowUp":t=f}R.dispatch({type:d.SET_DIRECTION,direction:t})}),this.interval=setInterval(function(){var e;R.dispatch((e=R.getState().direction,{type:d.MOVE,direction:e}))},150)}},{key:"restart",value:function(){R.dispatch({type:d.RESTART})}},{key:"render",value:function(){for(var e=this.props.state,t=e.snake,a=new Array(m),n=0;n<m;n++)a[n]=new Array(E).fill("e");for(var c=0;c<this.props.state.snake.length;c++){var o=t[c];a[o.y][o.x]="c",o.isBroken&&(a[o.y][o.x]="b")}var i=this.props.state.food;return a[i.y][i.x]="f",r.a.createElement("div",{className:"map"},r.a.createElement("span",{className:"scorePanel"},r.a.createElement("p",{className:"score"},"score: ",t.length),e.isGameOver?r.a.createElement("button",{onClick:this.restart.bind(this)},"Play again"):null,r.a.createElement("div",{className:"gameOver"}),r.a.createElement("p",{className:"highScore"},"high score: ",e.highScore)),a.map(function(e,t){return r.a.createElement("p",{className:"mapLine",key:t},e.map(function(e,t){return r.a.createElement("b",{className:e,key:t})}))}))}}]),t}(n.Component),_=Object(g.b)(function(e){return{state:e}})(j);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(30);R.subscribe(function(){localStorage.reduxState=JSON.stringify(R.getState())}),o.a.render(r.a.createElement(g.a,{store:R},r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.af652813.chunk.js.map