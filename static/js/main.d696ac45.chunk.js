(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(32)},23:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),o=n(10),s=n(11),l=n(16),u=n(12),h=n(17),d=(n(23),{MOVE:"MOVE",SET_DIRECTION:"DIRECTION",RESTART:"RESTART"}),f="UP",v="DOWN",y="LEFT",O="RIGHT",g=25,E=25,m=n(4),b=n(3),p=n(15),k=n(2),w=function(e){return{type:d.MOVE,direction:e}},S=[{x:10,y:10},{x:11,y:10},{x:12,y:10},{x:13,y:10}],x={snake:S,direction:O,food:{x:3,y:4},isGameOver:!1,highScore:S.length};function T(e,t){return Math.floor(Math.random()*(t-e))+e}var N=function(e,t){switch(t.type){case d.SET_DIRECTION:switch(t.direction){case v:return e!==f?t.direction:e;case f:return e!==v?t.direction:e;case y:return e!==O?t.direction:e;case O:return e!==y?t.direction:e;default:return e}default:return e}},I=function(e,t){switch(t.type){case d.MOVE:var n=0,a=0;switch(t.direction){case v:a++;break;case O:n++;break;case y:n--;break;case f:a--}var r={x:e[e.length-1].x+n<0?g-1:(e[e.length-1].x+n)%g,y:e[e.length-1].y+a<0?E-1:(e[e.length-1].y+a)%E};return e.concat(r).slice(1,e.length+1);default:return e}},R=Object(b.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=function(){switch(t.type){case d.MOVE:var n=I(e.snake,t),a=n[n.length-1],r=e.isGameOver||void 0!==n.slice(0,n.length-1).find(function(e){return e.x===a.x&&e.y===a.y});r&&(n[n.length-1].isBroken=!0);var c=Object(k.a)({},e.food);if(a.x===e.food.x&&a.y===e.food.y)for(n=[e.snake[0]].concat(Object(p.a)(n));n.find(function(e){return e.x===c.x&&e.y===c.y});)c={x:T(0,g),y:T(0,E)};return{v:Object(k.a)({},e,{snake:n,food:c,isGameOver:r,highScore:Math.max(e.highScore,n.length)})};case d.SET_DIRECTION:var i=N(e.direction,t),o=Object(k.a)({},e.snake[e.snake.length-1]);switch(i){case v:o.y++;break;case f:o.y--;break;case y:o.x--;break;case O:o.x++}var s=Object(k.a)({},e.snake[e.snake.length-2]);return o.x===s.x&&o.y===s.y?{v:Object(k.a)({},e)}:{v:Object(k.a)({},e,{direction:i})};case d.RESTART:return{v:Object(k.a)({},x,{highScore:e.highScore})};default:return{v:e}}}();if("object"===typeof n)return n.v},localStorage.reduxState?JSON.parse(localStorage.reduxState):x,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",function(e){var t=O;switch(e.code){case"ArrowDown":t=v;break;case"ArrowLeft":t=y;break;case"ArrowRight":t=O;break;case"ArrowUp":t=f}R.dispatch({type:d.SET_DIRECTION,direction:t})}),this.interval=setInterval(function(){R.dispatch(w(R.getState().direction))},150),R.subscribe(function(){R.getState().isGameOver&&clearInterval(e.interval)})}},{key:"restart",value:function(){R.dispatch({type:d.RESTART}),this.interval=setInterval(function(){R.dispatch(w(R.getState().direction))},150)}},{key:"render",value:function(){for(var e=this.props.state,t=e.snake,n=new Array(g),a=0;a<g;a++)n[a]=new Array(E).fill("e");for(var c=0;c<this.props.state.snake.length;c++){var i=t[c];n[i.y][i.x]="c",i.isBroken&&(n[i.y][i.x]="b")}var o=this.props.state.food;return n[o.y][o.x]="f",r.a.createElement("div",{className:"map"},r.a.createElement("span",{className:"scorePanel"},r.a.createElement("p",{className:"score"},"score: ",t.length),e.isGameOver?r.a.createElement("button",{onClick:this.restart.bind(this)},"Play again"):null,r.a.createElement("div",{className:"gameOver"}),r.a.createElement("p",{className:"highScore"},"high score: ",e.highScore)),n.map(function(e,t){return r.a.createElement("p",{className:"mapLine",key:t},e.map(function(e,t){return r.a.createElement("b",{className:e,key:t})}))}))}}]),t}(a.Component),_=Object(m.b)(function(e){return{state:e}})(j);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(30);R.subscribe(function(){localStorage.reduxState=JSON.stringify(R.getState())}),i.a.render(r.a.createElement(m.a,{store:R},r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.d696ac45.chunk.js.map